# 암호화

> 날짜: 2026-01-29
> 원본 노션: [링크](https://www.notion.so/2f7b28703eb080058c1cf56067f417d4)

---

# 암호화

‘평문’ 형태로 되어 있는 데이터나 정보를 ‘읽을 수 없는 형태(암호화 된 데이터)’로 변환하는 것

읽을 수 없는 형태로 만들기 위해 ‘암호화 키’가 필요

### 암호화의 목적 

- 기밀성
- 무결성
- 인증성
---

# 복호화

암호화 된 데이터’를 원래의 ‘평문’ 형태의 데이터나 정보로 변환하는 것

해당 과정을 수행하기 위해서는 '복호화 키’가 필요하며 이를 기반으로 해독하여 평문으로 반환

---

## 해시 함수의 종류

### MD5

옛날에 많이 사용

비밀번호 암호화에는 절대 사용하지 않음 

```sql
SELECT MD5('12345') FROM DUAL;   //827ccb0eea8a706c4c34a16891f84e7b
SELECT MD5('A') FROM DUAL;       //7fc56270e7a70fa81a5935b72eacbe29
```

### SHA-1

```sql
SELECT SHA1('1234') FROM DUAL; //7110eda4d09e062aa5e4a390b0a572ac0d2c0220
```

### SHA-2

```sql
SELECT SHA2(문자열, 결과비트수) FROM DUAL;
```

```sql
SELECT SHA2('A', 256) FROM DUAL;  //559aead08264d5795d3909718cdd05abd49572e84fe55590eef31a88a08fdffd
SELECT SHA2('a', 256) FROM DUAL;  //ca978112ca1bbdcafac231b39a23dc4da786eff8147c4e72b9807785afee48bb
SELECT SHA2('a', 224) FROM DUAL;  //abd37534c7d9a2efb9465de931cd7055ffdb8879563ae98078d6d6d5
```

결과 비트 수가 256인 것이 224인 것보다 보안성이 더 좋다. 더 길게 생성되기 때문 


|  | SHA256 | SHA512 |
| --- | --- | --- |
| 길이 | 256비트 | 512비트 |
| 크기 | 32 | 64 |
| 사용 | 암호화 | 정부, 금융권 |

---

# 양방향 암호화

동일한 키를 통해 암호화/복호화 가능

## 암호화

```sql
HEX(AES_ENCRYPT(평문, key값))
```

예시 

```sql
INSERT INTO member (user_id, user_pw, user_name, user_email) 
VALUES ('hong', HEX(AES_ENCRYPT('1234','hong')), '홍길동', 'gong@gong.com');
```

```sql
SELECT *
FROM member 
WHERE user_id = 'kim'
	AND user_pw = HEX(AES_ENCRYPT('1234',user_id));
```

## 복호화

```sql
AES_DECRYPT(UNHEX(암호문),key값)
```

주의! key값이 맞지 않으면 평문으로 되돌릴 수 없다 

예시 

```sql
SELECT *
FROM member 
WHERE user_id = 'kim'
	AND AES_DECRYPT(UNHEX(user_pw),user_id) = '1234';
```

---

# 단방향 암호화

해시 알고리즘을 사용, 암호화 하면 복호화 불가

- SHA256
- SHA512
- 해시 
---

# 솔트(Salt) 

해시함수를 돌리기 전에 원문에 임의의 문자열을 덧붙이는 것

---

# SHA-256

SHA(Secure Hash Algorithm) 단방향 알고리즘의 한 종류로, 해시 값을 이용한 암호화 방식 중 하나

- 256비트로 구성되며 64자리 문자열을 반환
- 단방향 알고리즘
- 어떤 길이의 값을 입력하더라도 256비트의 고정된 결과값을 출력
- 단점 
### 원리

1. 사용자가 입력한 비밀번호를 SHA-256 알고리즘을 적용하여 해시값을 얻는다.
1. 얻은 해시값을 DB에 넣는다.
1. 사용자가 로그인 시 해당 비밀번호를 SHA-256 알고리즘을 적용하여 얻은 해시값을 DB에 들어있는 해시값과 비교한다.
예시

- login
- 가입
